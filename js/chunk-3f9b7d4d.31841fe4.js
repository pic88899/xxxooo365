(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f9b7d4d"],{8627:function(e,a,s){},a0d8:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{attrs:{id:"login-to-supplier"}},[s("div",{staticClass:"center-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loading-area"},[s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"icon icon-spinner",attrs:{"icon-class":"spinner"}})],1),s("p",{staticClass:"desc"},[s("span",[e._v(e._s(e.api_title))]),e._v(" "+e._s(e.desc)+" ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTransfer,expression:"isShowTransfer"}],staticClass:"transfer-wrapper"},[s("div",{staticClass:"shade"}),s("div",{staticClass:"transfer-area"},[s("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("m.common.transfer"))+" ")]),s("div",{staticClass:"content"},[e.money?s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[s("span",{class:e.lang},[e._v(e._s(e.$t("m.transfer.center_money")))])]),s("span",{staticClass:"value"},[e._v(e._s(e._f("customCurrency")(e.money))+" "),s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:!e.updatingBalance,expression:"!updatingBalance"}],staticClass:"icon",attrs:{"icon-class":"refresh",title:e.$t("m.transfer.update_money")},on:{click:e.updateBalance}}),s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:e.updatingBalance,expression:"updatingBalance"}],staticClass:"icon icon-spinner",attrs:{"icon-class":"spinner"}})],1)]):e._e(),e.api_money?s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[s("span",{class:e.lang},[e._v(e._s(e.api_money.api_title)+" "+e._s(e.$t("m.common.money")))])]),s("span",{staticClass:"value"},[e._v(" "+e._s(e.api_money.money||"-")+" "),s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:!e.updatingGameBalance,expression:"!updatingGameBalance"}],staticClass:"icon",attrs:{"icon-class":"sync",title:e.$t("m.transfer.update_money")},on:{click:e.updateApiMoney}}),s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:e.updatingGameBalance,expression:"updatingGameBalance"}],staticClass:"icon icon-spinner",attrs:{"icon-class":"spinner"}})],1)]):e._e(),e.api_money?s("div",{staticClass:"item"},[s("span",{staticClass:"text",staticStyle:{"background-color":"darkgreen"}},[s("span",{class:e.lang},[e._v(e._s(e.$t("m.transfer.transfer_in"))+" "+e._s(e.api_money.api_title))])]),s("input",{directives:[{name:"float-number",rawName:"v-float-number"},{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"input",staticStyle:{width:"40%"},attrs:{type:"number",name:"amount",autofocus:"autofocus",placeholder:e.$t("m.transfer.enter_money")},domProps:{value:e.amount},on:{input:function(a){a.target.composing||(e.amount=a.target.value)}}}),s("button",{staticClass:"button",staticStyle:{width:"20%"},attrs:{disabled:!e.amount},on:{click:e.transferToGame}},[s("span",{class:e.lang},[e._v(e._s(e.$t("m.transfer.transfer_in"))+" ")])])]):e._e(),s("div",{staticClass:"item"},[s("span",{staticClass:"text",staticStyle:{width:"200px","background-color":"darkslategray"},on:{click:e.login}},[e._v(" "+e._s(e.$t("m.transfer.enter_game"))+" ")])])])])])])},n=[],i=(s("7db0"),s("b0c0"),s("ac1f"),s("5319"),s("5530")),o=s("ade3"),r=(s("e7e5"),s("d399")),c=s("2f62"),m=s("bc64"),l={name:"",props:[""],data:function(){return{isLoading:!1,api_title:"",desc:"正在进入游戏...",isShowTransfer:!1,amount:""}},components:Object(o["a"])({},r["a"].name,r["a"]),computed:Object(i["a"])({},Object(c["c"])({isLogin:"isLogin"}),{},Object(c["e"])({api_moneys:function(e){return e.game.api_moneys},money:function(e){return e.member.money},fs_money:function(e){return e.member.fs_money},is_trans_on:function(e){return e.member.is_trans_on},updatingBalance:function(e){return e["@@loading"].effects["member/refreshMoney"]},updatingGameBalance:function(e){return e["@@loading"].effects["game/refershGameBalance"]},lang:function(e){return e.common.lang}}),{api_money:function(){var e=this;return this.api_moneys.length&&this.api_moneys.find((function(a){return a.api_name==e.api_code}))}}),beforeMount:function(){},mounted:function(){this.desc=this.$t("m.transfer.is_transfer"),this.$route.query.api_code&&(this.api_code=this.$route.query.api_code),this.refresh(),this.loginToGame()},methods:Object(i["a"])({loginToGame:function(){if(!this.isLogin)return this.err_desc=this.$t("m.transfer.err_login"),this.$router.replace({path:"/login"})},refresh:function(){var e=this;this.getSingleApiMoney({api_code:this.api_code}).then((function(a){a.data.is_trans_on?(e.desc=e.$t("m.transfer.is_transfer"),e.login()):e.isShowTransfer=!0}))},login:function(){var e=this;this.isLoading=!0,Object(m["n"])(this.$route.query).then((function(a){"success"==a.status?window.location.href=a.game_url:(e.isLoading=!1,e.desc=a.msg,e.isShowTransfer=!1)})).catch((function(a){e.isLoading=!1,e.desc=a.response.data.message}))}},Object(c["b"])({updateBalance:"member/refreshMoney",getApiMoneys:"game/getAllApiMoneys",refershGameBalance:"game/refershGameBalance",getSingleApiMoney:"game/getSingleApiMoney",depositApi:"game/depositApi"}),{updateApiMoney:function(){this.refershGameBalance({api_code:this.api_code})},transferToGame:function(){var e=this,a={money:this.amount,api_code:this.api_code,money_type:"money"};this.depositApi(a).then((function(a){"success"==a.status?(r["a"].success(a.message),e.is_trans_on&&e.login()):r["a"].fail(a.message)}))}}),watch:{}},u=l,p=(s("da32"),s("2877")),d=Object(p["a"])(u,t,n,!1,null,"6c974383",null);a["default"]=d.exports},da32:function(e,a,s){"use strict";var t=s("8627"),n=s.n(t);n.a}}]);