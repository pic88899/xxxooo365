(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9acea45e"],{2708:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={methods:{goBack:function(){return window.history.length<=1?(this.$router.push({path:"/"}),!1):this.$router.go(-1)}}}},"48a8":function(e,t,a){},"4ece":function(e,t,a){"use strict";a.r(t);var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"game-record"}},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{title:e.dateOption?e.dateOption.text:e.$t("m.member.time"),options:e.dateOptions},on:{change:e.onRefresh},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}),a("van-dropdown-item",{attrs:{title:e.apiTypeValue?e.apiTypeValue.text:e.$t("m.member.api_type"),options:e.apiTypeOptions},on:{change:e.onRefresh},model:{value:e.apiTypeValue,callback:function(t){e.apiTypeValue=t},expression:"apiTypeValue"}}),a("van-dropdown-item",{attrs:{title:e.gameTypeValue?e.gameTypeValue.text:e.$t("m.member.game_type"),options:e.gameTypeOptions},on:{change:e.onRefresh},model:{value:e.gameTypeValue,callback:function(t){e.gameTypeValue=t},expression:"gameTypeValue"}})],1),e.list_data?e._e():a("p",{staticClass:"empty-none"},[e._v(" "+e._s(e.$t("m.member.no_data"))+" ")]),a("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[a("van-list",{attrs:{finished:e.finished,"finished-text":e.$t("m.member.no_more")},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list_data,(function(t,n){return a("van-cell",{key:n,attrs:{label:t.created_at,value:t.betAmount,title:t.api_name+t.game_type_text,"is-link":""},on:{click:function(a){return e.showDetail(t)}}})})),1)],1),a("div",{staticClass:"statistics-area"},[e._v(" "+e._s(e.$t("m.member.statistics"))+"： "),a("label",[e._v(e._s(e.$t("m.member.total_bet"))+"："),a("span",[e._v(e._s(e._f("customCurrency")(e.sumBetAmount)))])]),e._v(" "),a("label",[e._v(e._s(e.$t("m.member.total_win"))+"： "),a("span",{class:{"add-money":this.sumWin>=0,"sub-money":this.sumWin<0}},[e._v(e._s(e._f("customCurrency")(e.sumWin)))])])]),a("van-popup",{style:{height:"80%","padding-top":"50px"},attrs:{position:"bottom",closeable:"",round:"","close-icon":"close","overlay-style":{background:"rgba(0,0,0,.2)"}},model:{value:e.isShowDetail,callback:function(t){e.isShowDetail=t},expression:"isShowDetail"}},[a("p",{staticClass:"title"},[e._v(e._s(e.$t("m.member.game_detail")))]),e.log_detail?a("div",{staticClass:"item-detail"},[a("van-cell-group",[a("van-cell",{attrs:{title:e.$t("m.member.game_detail1"),value:e.log_detail.billNo}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail2"),value:e.log_detail.playDetail}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail3"),value:e.log_detail.game_type_text}}),e.log_detail.roundNo?a("van-cell",{attrs:{title:e.$t("m.member.game_detail4"),value:e.log_detail.roundNo}}):e._e(),a("van-cell",{attrs:{title:e.$t("m.member.game_detail5"),value:e.log_detail.wagerDetail}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail6"),value:e.log_detail.betAmount}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail7"),value:e.log_detail.validBetAmount}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail8"),value:e.log_detail.netAmount}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail9"),value:e.log_detail.gameResult}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail10"),value:e.log_detail.betTime}}),a("van-cell",{attrs:{title:e.$t("m.member.game_detail11"),value:e.log_detail.created_at}})],1)],1):e._e()])],1)},l=[],s=(a("99af"),a("7db0"),a("d81d"),a("b0c0"),a("2909")),o=(a("96cf"),a("1da1")),m=a("5530"),r=a("ade3"),u=(a("8a58"),a("e41f")),d=(a("c194"),a("7744")),c=(a("ab71"),a("58e6")),p=(a("2994"),a("2bdd")),g=(a("61ae"),a("d314")),y=(a("09d3"),a("2d6d")),_=(a("5246"),a("6b41")),b=a("2708"),h=a("ed08"),v=a("bc64"),f=a("2f62"),O={name:"GameRecord",props:[""],mixins:[b["a"]],data:function(){return{list_data:[],current_page:0,loading:!1,finished:!1,refreshing:!1,apiTypeValue:null,apiTypeOptions:[],gameTypeValue:null,gameTypesOption:[],dateValue:0,dateOptions:[],sumBetAmount:0,sumNetAmount:0,log_detail:{},isShowDetail:!1}},components:(n={},Object(r["a"])(n,_["a"].name,_["a"]),Object(r["a"])(n,y["a"].name,y["a"]),Object(r["a"])(n,g["a"].name,g["a"]),Object(r["a"])(n,p["a"].name,p["a"]),Object(r["a"])(n,c["a"].name,c["a"]),Object(r["a"])(n,d["a"].name,d["a"]),Object(r["a"])(n,u["a"].name,u["a"]),n),computed:Object(m["a"])({dateOption:function(){var e=this;return this.dateOptions.find((function(t){return t.value==e.dateValue}))}},Object(f["e"])({gametypes:function(e){return e.game.gametypes}}),{gameTypeOptions:function(){return this.gameTypesOption=this.gametypes,this.gameTypesOption.map((function(e){return e.hasOwnProperty("text")||(e.text=e.value,e.value=e.key),e}))},sumWin:function(){return this.sumNetAmount-this.sumBetAmount}}),beforeMount:function(){},mounted:function(){this.dateOptions=[{text:this.$t("m.member.today"),value:0,data:[Object(h["c"])(new Date,"yyyy-MM-dd 00:00:00"),Object(h["c"])(new Date,"yyyy-MM-dd 23:59:59")]},{text:this.$t("m.member.last_day"),value:1,data:[Object(h["c"])(new Date((new Date).getTime()-864e5),"yyyy-MM-dd 00:00:00"),Object(h["c"])(new Date((new Date).getTime()-864e5),"yyyy-MM-dd 23:59:59")]},{text:this.$t("m.member.day_7"),value:2,data:[Object(h["c"])(new Date((new Date).getTime()-6048e5),"yyyy-MM-dd 00:00:00"),Object(h["c"])(new Date,"yyyy-MM-dd 23:59:59")]},{text:this.$t("m.member.day_30"),value:3,data:[Object(h["c"])(new Date((new Date).getTime()-2592e6),"yyyy-MM-dd 00:00:00"),Object(h["c"])(new Date,"yyyy-MM-dd 23:59:59")]}],this.$emit("setTitle",this.$t("m.common.bet_record")),this.gametypes.length<=0&&this.getGameType()},methods:Object(m["a"])({},Object(f["b"])({getGameTypes:"game/getGameTypes"}),{getOptions:function(){this.apiTypeOptions=this.apiTypeOptions.map((function(e){return{text:e,value:e}}))},getGameType:function(){this.getGameTypes()},getGameRecord:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={created_at:e.dateOption.data,api_name:e.apiTypeValue?e.apiTypeValue:"",page:e.current_page,gameType:e.gameTypeValue,limit:10},e.finished=!0,Object(v["i"])(a).then((function(t){e.list_data=[].concat(Object(s["a"])(e.list_data),Object(s["a"])(t.data.data)),e.apiTypeOptions=t.apis,e.getOptions(),e.sumBetAmount=t.statistic.sum_bet_amount,e.sumNetAmount=t.statistic.sum_net_amount,t.data.total<=e.list_data.length?e.finished=!0:e.finished=!1,e.refreshing=!1,e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},onRefresh:function(){this.list_data=[],this.current_page=1,this.getGameRecord()},onLoad:function(){this.current_page++,this.getGameRecord()},showDetail:function(e){this.log_detail=e,this.isShowDetail=!0}}),watch:{}},w=O,T=(a("adad"),a("2877")),$=Object(T["a"])(w,i,l,!1,null,"2ff07c34",null);t["default"]=$.exports},adad:function(e,t,a){"use strict";var n=a("48a8"),i=a.n(n);i.a}}]);