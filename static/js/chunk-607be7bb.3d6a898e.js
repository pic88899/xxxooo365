(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607be7bb"],{"21db":function(e,t,s){"use strict";var n=s("407c"),a=s.n(n);a.a},2708:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n={methods:{goBack:function(){return window.history.length<=1?(this.$router.push({path:"/"}),!1):this.$router.go(-1)}}}},"2d9b":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"transfer team-user-settings"},[s("div",{staticClass:"transfer_scroll"},[s("div",[s("div",{staticStyle:{"padding-top":"0.28rem"}},[s("div",{staticClass:"userTransfer all_opacity_bg_color"},[s("div",{staticClass:"user_border"},[s("div",{staticClass:"user_li"},[s("div",{staticClass:"user_li_box right_border"},[s("p",{staticClass:"usercoins"},[e._v(e._s(e.$t("m.member.account_money"))+":")]),s("div",{staticClass:"twobox"},[s("span",{staticClass:"usermoney"},[e._v(e._s(e.resolveMoney(e.member_lang))+e._s(e._f("customCurrency")(e.money,e.member_lang)))])])]),s("div",{staticClass:"user_li_box right_text"},[s("div",{staticClass:"right_li"},[s("p",{staticClass:"usercoins"},[e._v(e._s(e.$t("m.member.fs_money"))+":")]),s("div",{staticClass:"twobox"},[s("span",{staticClass:"usermoney"},[e._v(e._s(e.resolveMoney(e.member_lang))+e._s(e._f("customCurrency")(e.fs_money,e.member_lang)))])])])])]),s("div",{staticClass:"rightbox"},[s("div",{staticClass:"boi"},[s("form",{staticStyle:{"text-align":"center","margin-top":".18rem"}},[s("span",{staticClass:"recovery btn_n",on:{click:e.transferMoneyOut}},[e._v(e._s(e.$t("m.member.one_key")))]),s("span",{staticClass:"Refresh_the_balance btn_n",on:{click:e.changeMemberTrans}},[e._v(" "+e._s(e.is_trans_on?e.$t("m.member.transfer_to_hand"):e.$t("m.member.transfer_to_auto"))+" ")])])])])]),e.is_trans_on?e._e():s("div",{staticClass:"transferbox"},[s("form",[s("div",{staticClass:"head"},[s("span",{staticClass:"out"},[e._v(e._s(e.$t("m.member.transfer_out")))]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.transfer_out,expression:"transfer_out"}],staticClass:"select",attrs:{name:"out_account"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.transfer_out=t.target.multiple?s:s[0]}}},[e._l(e.wallet_list,(function(t,n){return[t.api_name!=e.transfer_in?s("option",{key:n,domProps:{value:t.api_name}},[e._v(e._s(t.api_title)+" ")]):e._e()]}))],2),s("span",{staticClass:"iconJH"},[s("Icon",{attrs:{name:"exchange"}})],1),s("span",{staticClass:"to"},[e._v(e._s(e.$t("m.member.transfer_in")))]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.transfer_in,expression:"transfer_in"}],staticClass:"select",attrs:{name:"in_account"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.transfer_in=t.target.multiple?s:s[0]}}},[e._l(e.wallet_list,(function(t,n){return["fs_money"!=t.api_name&&t.api_name!=e.transfer_out?s("option",{key:n,domProps:{value:t.api_name}},[e._v(e._s(t.api_title)+" ")]):e._e()]}))],2)]),s("div",{staticClass:"money_box"},[s("span",{staticClass:"title"},[e._v(e._s(e.$t("m.member.money")))]),s("div",{staticClass:"input_box all_opacity_bg_color"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"input_text",attrs:{type:"text",placeholder:e.$t("m.member.enter_money"),name:"money"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}}),s("span",{staticClass:"btn2 bg_linear_orange",on:{click:function(t){return t.preventDefault(),e.beforeSubmit(t)}}},[e._v(e._s(e.$t("m.member.confirm")))])])])])])]),s("div",{staticClass:"ZZ_box"},[s("ul",[e._l(e.api_moneys,(function(t,n){return[s("li",{staticClass:"all_opacity_bg_color"},[s("p",{staticClass:"name"},[e._v(e._s(t.api_title))]),s("p",{staticClass:"money balance_span"},[s("span",[e._v(e._s(e._f("customCurrency")(t.money,e.member_lang)))]),s("a",{staticClass:"api_check",attrs:{href:"javascript:;"}},[s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:e.updatingApi!=t.api_name,expression:"updatingApi != item.api_name"}],staticClass:"icon",attrs:{"icon-class":"refresh"},on:{click:function(s){return e.updateApiBalance(t.api_name)}}}),s("svg-icon",{directives:[{name:"show",rawName:"v-show",value:e.updatingApi==t.api_name,expression:"updatingApi == item.api_name"}],staticClass:"icon icon-spinner",attrs:{"icon-class":"spinner"}})],1)])])]}))],2)])])])])])},a=[],i=s("e1be"),r=i["a"],o=(s("21db"),s("2877")),c=Object(o["a"])(r,n,a,!1,null,null,null);t["default"]=c.exports},"407c":function(e,t,s){},e1be:function(e,t,s){"use strict";(function(e){s("caad"),s("13d5"),s("b680"),s("2532"),s("e7e5");var n=s("d399"),a=s("5530"),i=(s("c3a6"),s("ad06")),r=s("2708"),o=s("2f62"),c=s("ed08");t["a"]={name:"Transfer",props:[""],mixins:[r["a"]],data:function(){return{updatingApi:"",wallet_fields:["money","fs_money"],transfer_in:"",transfer_out:"money",selectedApi:"",amount:"",recover_api:"",recover_money:0}},components:{Icon:i["a"]},computed:Object(a["a"])({},Object(o["e"])({api_moneys:function(e){return e.game.api_moneys},wallet_list:function(e){return e.game.wallet_list},money:function(e){return e.member.money},fs_money:function(e){return e.member.fs_money},is_trans_on:function(e){return e.member.is_trans_on},member_lang:function(e){return e.member.member_lang}})),beforeMount:function(){},mounted:function(){var t=this;this.$emit("setTitle",this.$t("m.common.transfer")),this.getApiMoneys().then((function(e){t.api_moneys&&(t.transfer_in=t.api_moneys[0].api_title)})),this.$nextTick((function(){e(".transfer-wrapper").css("height",window.innerHeight-64-50-40-46-20+"px")}))},methods:Object(a["a"])({resolveMoney:c["e"]},Object(o["b"])({getApiMoneys:"game/getAllApiMoneys",depositApi:"game/depositApi",withdrawalApi:"game/withdrawalApi",changeTransMode:"game/changeTransMode",refershGameBalance:"game/refershGameBalance",recoverMoney:"game/recoverMoney"}),{exchange:function(){this.transfer_in==this.selectedApi?(this.transfer_in=this.transfer_out,this.transfer_out=this.selectedApi):(this.transfer_out=this.transfer_in,this.transfer_in=this.transfer_out)},updateApiBalance:function(e){var t=this;this.updatingApi=e,this.refershGameBalance({api_code:e}).then((function(e){t.updatingApi=""})).catch((function(e){t.updatingApi=""}))},getTotalMoney:function(){return(parseFloat(this.fs_money)+parseFloat(this.money)+this.api_moneys.reduce((function(e,t){return e+(t.money?parseFloat(t.money):0)}),0)).toFixed(2)},transferMoneyOut:function(){this.recoverMoney().then((function(e){"success"===e.status&&n["a"].success("操作成功！")}))},beforeSubmit:function(){return this.wallet_fields.includes(this.transfer_in)&&this.wallet_fields.includes(this.transfer_out)?n["a"].fail({message:"钱包之间不能互相转换"}):this.submit()},submit:function(){var e={money:this.amount};return this.wallet_fields.includes(this.transfer_in)?(e.api_code=this.transfer_out,this.withdrawalApi(e).then((function(e){return n["a"].success(e.message)}))):this.wallet_fields.includes(this.transfer_out)?(e.api_code=this.transfer_in,e.money_type=this.transfer_out,this.depositApi(e).then((function(e){return n["a"].success(e.message)}))):n["a"].fail("操作异常")},changeMemberTrans:function(){this.changeTransMode({status:this.is_trans_on?0:1})}}),watch:{transfer_in:function(e){this.wallet_fields.includes(e)?this.selectedApi=e:this.transfer_out=this.wallet_fields[0]},transfer_out:function(e){this.wallet_fields.includes(e)?this.selectedApi=e:this.transfer_in=this.wallet_fields[0]}}}}).call(this,s("1157"))}}]);