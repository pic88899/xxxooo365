(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-295befc4"],{"0f91":function(t,e,n){t.exports=n.p+"static/img/redRain_11.86d470c7.png"},1036:function(t,e,n){t.exports=n.p+"static/img/redRain_02.df7b6785.png"},"166d":function(t,e,n){t.exports=n.p+"static/img/redRain_05.b7917540.png"},"1ea3":function(t,e,n){t.exports=n.p+"static/img/redRain_03.b119fbbc.png"},"23ee":function(t,e,n){},"3ff0":function(t,e,n){t.exports=n.p+"static/img/redRain_10.e27ea2a5.png"},4561:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAMAAADw8nOpAAABC1BMVEUAAAD6wRz6wBv6wBz7wRz9wB36wRv/ywD6wRz6wRf/6AD6wRv6wRz6wBz6wRz9xB36wRv6wRz6wBv9whj5wRz6wBz5wBv6wRv6vxz7wRv6wBv6wBz6wRv6wBz6wBv6wRv7whv8whz5vxn7wBz6wRv5whv6wRv5wRv5wBz5wBv6wBz7wRz5wRz5wBz6wRz5wBz7wBz6wxz7wBz/8tz5wBz5xCn82Hn5wiL5wR//8dn/79L+7MT93Yv81Wz702T+6br94p77z1T+7cj70Fr6yT3/8db+6r/95aj6y0X6xzj6xjP6xTH+7s/946L935P82oD70Vz6xjX+57P+5q/824X7zU/+6Lb81nH71GiJFWuOAAAAM3RSTlMAZvv3PwiyBKcWAf3u1q0hvX0zDtygl3JiVPPw6cjDjS8qJxvOiFpP5nlpSOG2k4B1TDjrl0QhAAADkElEQVRYw+2Y11YiQRBAh8wsOQdJIphXd50mZySIoKhr+v8vWU91rwND9zBTeHZf9j55Brmnm56q6irpb3Pks5INrL4jvNHuIVw8drTSSQQ40cqcSJlDK09EyhO00uUU7Nsl4bEnLRsk7dJ/8DjkYqF4EPn2JbJv4UQs6yWUdMkdsjt2W1zK7yVabMHTCFa4H98jfGx++8o+DAvDfivRIXcG/xXwp63BK0NCOUa2ESx+bCQDi/5pwGhZ+wlvXzrV5/Zz9W0wq69uvxzOsL+2xlPETz6Zd/oLRWU8rY5W8iZhRLf8oOEoYdS704ayQe+tQrQU9TPFn3OudVoKn+ZSKy3oGVM2QhmAUMCis2b0uvQKGHt1Kn1Fn6dHomLR2zVb401L2Ubz4dMY0jEG2MtzPVYMUGXGmF5Mlwjw3lAM0SZA5kCsvCBAly8QO3PC07Gzo2ZrNLH3hKge+uDjWVMxwYAmUsHWf9AX/FUxw2IO33LzI5ue9lIxx5SFj3iRs7FikmvhMh00UU0Vs7RqcEPkJI5DGjWKeWi45zeV3+GDO4SyBXn5eOPdlK2QvxUA9WueaZVJeFxFKfvw3bhW6YbHE5SyAQnZp1Ues33jd+7RRFCAly9MZo/UuvIMHt4jlT1eIk7AwyekclznZOI4KBcKEqhDWc6BVxQsL3A/4MTOHClkR57hNE0jtLILN6N1ZfYLlNZ1ZZB88IhWQkn3riv96ONRK9D5ujIGF7UGVjniBPklyxpIILE7eTm9jzQOeXk9zNIljj7v+uawqZUHW33CEuctqjd3OJ09bfEJ7ZDdevx5xxU8fsEY2V3rVNJC24gWJlvOIRxlSeLuvINQ3ovmPAEo5LWh+fo4AyVvwuWmFQ1Zy3y8/qxAgF9mI4d2VUmJB+0cR03M7SXq4ncoNsTWWQMgap9DxPT7/lTTH+s5fLS/NX4jnNAfci8gnmakaQdg9Ihat7QtT0likoQ6ja2zNyfAhaRHnvX2bSO9BGvKgw79SZObUB6a24KmSiiliNGR5a1+1Xi9IRSfvH0MGiOMQU8cMp06oWRlI1O2sudTyj/6yXuNMJwGJ3ApdTA2W2qX2mrfqBP2E8PTsUCWqFQelv3esNloDid3z91HonJuNzNiPPWSbVjLJseOctymK/T49yXTHOTT4hW6QWieSDJo5QlLCVnCIx/Go6taz7HbEpB2xlFIJULleP4ycRiOSP+E37EtE/qLzU+RAAAAAElFTkSuQmCC"},"4cdc":function(t,e,n){t.exports=n.p+"static/img/redRain_09.0d561fd4.png"},"56c3":function(t,e,n){t.exports=n.p+"static/img/redRain_01.c54c7fe7.png"},"6af6":function(t,e,n){"use strict";var i=n("23ee"),a=n.n(i);a.a},7936:function(t,e,n){t.exports=n.p+"static/img/redRain_04.5d8d098e.png"},a12e:function(t,e,n){t.exports=n.p+"static/img/redRain_07.1d1cb59f.png"},a182:function(t,e,n){t.exports=n.p+"static/img/redRain_06.93911e38.png"},f88a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"red-bag"}},[i("div",{staticClass:"rainBox",style:t.bgStyle},[t.secondMask&&t.isBegin?i("div",{staticClass:"countDown"},[7==t.second?i("img",{staticClass:"second",attrs:{src:n("a12e")}}):t._e(),6==t.second?i("img",{staticClass:"second",attrs:{src:n("a182")}}):t._e(),5==t.second?i("img",{staticClass:"second",attrs:{src:n("166d")}}):t._e(),4==t.second?i("img",{staticClass:"second",attrs:{src:n("7936")}}):t._e(),3==t.second?i("img",{staticClass:"second",attrs:{src:n("1ea3")}}):t._e()]):t._e(),t.secondMask?t._e():i("div",[i("div",{staticClass:"redNum"},[t.isBegin?i("span",{staticClass:"icon",style:t.iconStyle},[t._v(t._s(t.duration)),i("i",[t._v("s")])]):t._e()]),i("ul",{staticClass:"red_packet",attrs:{id:"red_packet"}},[t._l(t.liParams,(function(e,n){return[i("li",{key:n,staticClass:"package",style:{left:e.left,width:e.width,height:e.width,animationDuration:e.durTime,webkitAnimationDuration:e.durTime},attrs:{"data-index":n},on:{webkitAnimationEnd:t.removeDom,click:function(n){return t.tap(e)}}},[i("a",{attrs:{href:"javascript:;"}},[i("i",{style:t.redPacketStyle(e)})])])]}))],2)]),t.isBegin?t._e():i("div",{staticClass:"game-btn-area"},[i("button",{staticClass:"btn btn-default",on:{click:t.gameBegin}},[t._v(t._s(t.$t("m.red.start")))]),i("button",{staticClass:"btn btn-primary",on:{click:t.goHome}},[t._v(t._s(t.$t("m.red.back_to_index")))])])])])},a=[],s=(n("e17f"),n("2241")),r=n("5530"),c=n("2f62"),o=n("56c3"),d=n.n(o),u=n("1036"),l=n.n(u),m=n("4561"),h=n.n(m),w=n("4cdc"),g=n.n(w),f=n("0f91"),p=n.n(f),v=n("3ff0"),b=n.n(v),A=n("1bab");function R(){return Object(A["a"])({url:"/activity/redbag?lang="+localStorage.getItem("ly_lang"),method:"post",loading:!1})}var k=n("ed08"),z={name:"RedBag",props:[""],data:function(){return{hasGetAward:!1,isBegin:!1,second:7,secondMask:!0,liParams:[],timer:null,duration:20,selectedNum:0,clickNum:0,randomNum:Math.ceil(6*Math.random()),couponArr:[],bgStyle:{background:"url("+d.a+") no-repeat center",backgroundSize:"100% 100%"},iconStyle:{background:"url("+h.a+") no-repeat center",backgroundSize:"100% 100%"},countDonwStyle:{background:"url("+l.a+") no-repeat center",backgroundSize:"100% 100%"}}},computed:Object(r["a"])({},Object(c["c"])({getConfig:"common/getConfig"})),created:function(){},mounted:function(){var t=this;this.getConfigs("activity").then((function(){if(1!=t.getConfig("is_redbag_open"))return Object(s["a"])({message:t.$t("m.red.no_red")}).then((function(){t.$router.push("/main/home")}))}))},methods:Object(r["a"])({},Object(c["b"])({getConfigs:"common/getConfigs"}),{countDownFn:function(){var t=this,e=setInterval((function(){3==t.second?(t.secondMask=!1,clearInterval(e),t.startRedPacket(),t.countDownFn20()):t.second--}),1e3)},reset:function(){this.second=7,this.secondMask=!0,this.liParams=[],this.timer=null,this.duration=20,this.selectedNum=0,this.clickNum=0,this.randomNum=Math.ceil(6*Math.random()),this.couponArr=[],this.hasGetAward=!1},gameBegin:function(){this.isBegin=!0,this.reset(),this.countDownFn()},goHome:function(){this.$router.push("/main/home")},countDownFn20:function(){var t=this,e=this,n=setInterval((function(){if(0==e.duration){if(clearInterval(n),!t.hasGetAward)return Object(k["b"])(t.getAward(),2e3)}else e.duration--}),1e3)},tap:function(t){this.clickNum++,this.selectedNum>=3&&0==t.status&&(t.status=2),this.clickNum==this.randomNum?0==t.status&&this.selectedNum<3&&(this.randomNum=Math.ceil(6*Math.random()),this.clickNum=0,this.selectedNum++,t.status=1,this.couponArr.push(t)):t.status=2},startRedPacket:function(){var t=this,e=document.documentElement.clientWidth||document.body.clientWidth,n=parseInt(90*Math.random()-45)+"deg",i=90*Math.random()+60,a=parseInt(1.5*Math.random())+2.5+"s",s=parseInt(Math.random()*e);s<0?s=0:s>e-130&&(s=e-130),this.liParams.push({left:s+"px",width:i+"px",transforms:"rotate("+n+")",durTime:a,status:0}),setTimeout((function(){clearTimeout(t.timer)}),1e3*this.duration),this.timer=setTimeout((function(){t.startRedPacket()}),300)},getAward:function(){var t=this;if(this.hasGetAward=!0,!this.selectedNum)return Object(s["a"])({message:this.$t("m.red.no_red1")}).then((function(){t.isBegin=!1}));R().then((function(e){t.isBegin=!1,Object(s["a"])({message:e.message})})),this.isBegin=!1},removeDom:function(t){var e=t.currentTarget;document.querySelector("#red_packet").removeChild(e)},redPacketStyle:function(t){var e={width:t.width,height:t.width,transform:t.transforms,webkitTransform:t.transforms,background:"url("+g.a+") no-repeat center",backgroundSize:"100% 100%"};return 1==t.status?e.background="url("+b.a+") no-repeat center":2==t.status&&(e.background="url("+p.a+") no-repeat center"),e}})},B=z,x=(n("6af6"),n("2877")),y=Object(x["a"])(B,i,a,!1,null,"68c329b0",null);e["default"]=y.exports}}]);